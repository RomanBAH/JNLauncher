# JNight Launcher (JNLauncher)

### Что это такое

Этот репозиторий содержит исходный код лаунчера проекта игровых серверов DayZ SA — JNight.  
Код опубликован для прозрачности и безопасности пользователей: вы можете убедиться, что программа не содержит опасных или скрытых функций.

### Где скачать
Актуальные версии будут доступны по ссылке https://jnight.ru/launcher/download/  

### Как работает лаунчер

1. При запуске программа пытается получить актуальный список серверов с сайта **jnight.ru**.  
   Если это удалось, программа обновляет файл `jnconfig.json` и набор кнопок подключения к серверам.
2. После этого программа пытается получить статистику онлайна с сайта **jnight.ru** по каждому серверу.  
   Если успешно, кнопки получают счётчик онлайна в скобках.
3. Программа получает актуальную новостную ленту с сайта **jnight.ru** и выводит её в правую колонку.  
   Здесь же происходит сопоставление текущей версии с последней доступной для скачивания. Если текущая версия ниже, будет предложено скачать обновление.

#### При нажатии кнопок с наименованием сервера происходит следующее:

- Программа ищет в реестре информацию о том, где установлен Steam.
- После определения каталога Steam программа ищет и считывает файл `libraryfolders.vdf`, в котором указаны пути к каталогам, куда устанавливаются игры на компьютере.
- После получения потенциальных путей, где может быть установлена игра DayZ, программа пытается найти файл `DayZ_BE.exe`.
- Если всё прошло успешно, программа инициирует запуск найденного файла `DayZ_BE.exe` с параметрами прямого подключения к соответствующему серверу.

Говоря проще, лаунчер ищет файл игры и запускает его с параметрами прямого подключения к серверам JNight.  
Никакой магии программа не делает — у вас должна быть установлена лицензионная версия DayZ, и всё должно быть обновлено стандартными средствами.  
Всё, что делает программа — это позволяет быстро подключиться к серверам JNight.

## Об антивирусе

### Почему программа может не запускаться или работать некорректно

К сожалению, пока не удалось сделать так, чтобы антивирусы не определяли программу как потенциальную угрозу.  
Отчасти это связано с тем, что программа не подписана цифровым сертификатом, который стоит денег и на данный момент не планируется к приобретению.  
Также программа выполняет сетевые запросы и записывает файлы на компьютер, что может вызывать подозрения у антивирусов.

Поэтому рекомендуется добавлять программу в исключения антивируса, если она не работает корректно.  
Со стандартным **Windows Defender** проблем не возникает, однако игроки сообщали, что, например, **Comodo** может блокировать работу программы до добавления лаунчера в исключения.
